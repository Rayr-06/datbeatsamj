{% extends 'base.html' %}
{% block title %}Payments{% endblock %}
{% block content %}
<h1>Payments</h1>
{% if current_user.role == 'teacher' %}
<a href="{{ url_for('payments.add_payment') }}" class="btn btn-primary mb-3">Record New Payment</a>
{% endif %}
<table class="table table-striped">
    <thead>
        <tr>
            <th>Date</th>
            <th>Student</th>
            <th>Amount</th>
            <th>Method</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        {% for pmt in payments %}
        <tr>
            <td>{{ pmt.date.strftime('%Y-%m-%d') }}</td>
            <td>{{ pmt.user.name }}</td>
            <td>${{ pmt.amount }}</td>
            <td>{{ pmt.method }}</td>
            <td>{{ pmt.notes }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="5">No payments recorded.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}